[Unit]
Description=LLM Guard Scanner Service for OpenClaw
Documentation=https://github.com/copperfinio/openclawd-llm-guard
After=network-online.target
Wants=network-online.target

[Service]
Type=simple
WorkingDirectory=%h/.openclaw/workspace/llm_guard/service
ExecStart=%h/.openclaw/workspace/llm_guard/service/venv/bin/python scanner_service.py

# Resilience settings
Restart=always
RestartSec=5
StartLimitIntervalSec=60
StartLimitBurst=3

# Environment
Environment=PYTHONUNBUFFERED=1

# Logging - service output goes to journal
StandardOutput=journal
StandardError=journal
SyslogIdentifier=llm-guard

# Resource limits (ML models use ~1.5-2GB RAM)
MemoryMax=3G

[Install]
WantedBy=default.target
